Version:
  type: object
  required:
    - id
    - object
    - document_id
    - version_number
    - created_at
  properties:
    id:
      type: string
      pattern: '^ver_[a-zA-Z0-9]+$'
      example: ver_xyz789
    object:
      type: string
      enum: [version]
    document_id:
      type: string
      pattern: '^doc_[a-zA-Z0-9]+$'
      example: doc_abc123
    version_number:
      type: integer
      minimum: 1
      example: 3
    content:
      type: string
      description: Version content
    change_summary:
      type: [string, "null"]
      description: Summary of changes in this version
      example: Updated financial figures
    created_by:
      type: [string, "null"]
      description: User ID who created this version
    metadata:
      type: object
      additionalProperties: true
    created_at:
      type: integer
      format: int64
      example: 1234567895

VersionSummary:
  type: object
  required:
    - id
    - version_number
    - created_at
  properties:
    id:
      type: string
      pattern: '^ver_[a-zA-Z0-9]+$'
    version_number:
      type: integer
      minimum: 1
    content:
      type: string
      description: Version content (included in document response)
    created_at:
      type: integer
      format: int64

VersionList:
  type: object
  required:
    - object
    - data
    - has_more
  properties:
    object:
      type: string
      enum: [list]
    data:
      type: array
      items:
        $ref: '#/Version'
    has_more:
      type: boolean
    next_cursor:
      type: [string, "null"]

VersionCreate:
  type: object
  required:
    - document_id
    - content
  properties:
    document_id:
      type: string
      pattern: '^doc_[a-zA-Z0-9]+$'
    content:
      type: string
    change_summary:
      type: string

VersionUpdate:
  type: object
  properties:
    change_summary:
      type: string
    metadata:
      type: object
      additionalProperties: true
